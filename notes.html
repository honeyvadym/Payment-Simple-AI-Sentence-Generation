<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <link rel="icon" href="favicon.ico" />
    <title>
      Psychologist Toolkit - Automated Clinical Documentation Solution | Olyv
    </title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      rel="stylesheet"
    />
    <link href="./css/bootstrap.min.css" rel="stylesheet" />
    <link href="./css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="page-content-wrapper">
      <div class="div-background mobile hidden"></div>
      <nav class="nav-desktop desktop">
        <div class="div-fixed">
          <a class="py-2 left-menu" href="/">
            <img src="./images/logo.png" class="log-img" />
          </a>
          <label class="label">Current Client</label>
          <div class="d-flex gap-2">
            <div class="dropdown client-dropdown"></div>
            <button
              class="btn icon-btn"
              onclick="window.location.href='./dashboard.html'"
            >
              <span class="fa fa-fw fa-folder"></span>
            </button>
          </div>

          <ul class="mt-5">
            <li class="nav-mb-2 opacity-6">
              <a class="py-2 d-md-inline-block active" href="./dashboard.html">
                <i class="fa fa-fw fa-user-group mr-2"></i> Clients
              </a>
            </li>
            <li class="ml-3 nav-mb-2">
              <a class="py-2 d-md-inline-block" href="./session.html">
                <i class="fa fa-fw fa-play mr-2"></i> Session
              </a>
            </li>
            <li class="ml-3 nav-mb-2">
              <a class="py-2 d-md-inline-block active" href="./notes.html">
                <i class="fa fa-fw fa-folder mr-2"></i> Notes
              </a>
            </li>
            <li class="ml-3 nav-mb-2">
              <a class="py-2 d-md-inline-block" href="./report.html">
                <i class="fa fa-fw fa-file mr-2"></i> Report
              </a>
            </li>
            <li>
              <a class="py-2 d-md-inline-block" href="./templates.html">
                <i class="fa fa-fw fa-book mr-2"></i> Templates
              </a>
            </li>
            <li>
              <a class="py-2 d-md-inline-block" href="./feedback.html">
                <i class="fa fa-fw fa-comment mr-2"></i> Feedback
              </a>
            </li>
          </ul>

          <div class="user-menu">
            <a class="py-2 d-inline-block" href="#" onclick="logout()">
              <i class="fa fa-fw fa-right-from-bracket mr-2"></i> Log out
            </a>
          </div>
        </div>
      </nav>

      <div class="page-main-section">
        <nav class="site-header sticky-top ease-out">
          <div class="left-menu-wrapper">
            <a href="./dashboard.html"
              ><i class="fa fa-fw fa-user-group mr-2"></i>Clients</a
            >
            /
            <span>Notes</span>
          </div>
          <div class="right-menu-wrapper">
            <div class="nav-dropdown mobile">
              <button class="btn btn-primary" type="button" id="btn_mobile_nav">
                <i class="fa fa-fw fa-list"></i>
              </button>
            </div>
          </div>
        </nav>
        <div class="page-wrapper">
          <div class="page-container-wrapper">
            <div class="se-pre-con"></div>
            <div class="page-title note-list-title">
              <div class="page-heading">
                <h1>Notes</h1>

                <p>Edit and approve session notes</p>
              </div>
            </div>
            <div class="page-title note-detail-title" style="display: none">
              <div class="page-heading">
                <h1 id="page_title"></h1>
                <p id="page_subtitle"></p>
              </div>
            </div>
            <div class="mt-4 notes-box">
              <div class="note-load-icon"></div>
              <div class="alert-backdrop fade hidden" id="alert_server_error">
                <div
                  class="alert alert-danger alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_server_error">Error! Something went wrong</span>
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>

              <div class="table-responsive docs-list-box">
                <div class="alert-backdrop fade hidden" id="alert_list_info">
                  <div
                    class="alert alert-info alert-dismissible mb-4"
                    role="alert"
                  >
                    <span id="msg_list_info"
                      >You have no documents yet, please upload some files</span
                    >
                    <button
                      type="button"
                      class="close"
                      aria-label="Close"
                      onclick="closeAlertAndRemoveBackdrop(this)"
                    >
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                </div>
                <table class="table mb-0" id="table_notes">
                  <colgroup>
                    <col style="width: 45%" />
                    <col style="width: 25%" />
                    <col style="width: 20%" />
                    <col style="width: 10%" />
                  </colgroup>
                  <thead>
                    <tr>
                      <th>Title</th>
                      <th>Date</th>
                      <th>Actions</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
              <div class="col-12 p-4 note-tab-wrapper hidden">
                <ul
                  class="nav nav-tabs mb-3"
                  style="width: 300px"
                  id="ex1"
                  role="tablist"
                >
                  <li class="nav-item" role="presentation">
                    <a
                      class="nav-link active"
                      id="ex1-tab-1"
                      data-toggle="tab"
                      href="#ex1-tabs-1"
                      role="tab"
                      aria-controls="ex1-tabs-1"
                      aria-selected="true"
                      >Notes</a
                    >
                  </li>
                  <li class="nav-item" role="presentation">
                    <a
                      class="nav-link"
                      id="ex1-tab-2"
                      data-toggle="tab"
                      href="#ex1-tabs-2"
                      role="tab"
                      aria-controls="ex1-tabs-2"
                      aria-selected="false"
                      >Data</a
                    >
                  </li>
                </ul>
                <!-- Tabs navs -->

                <!-- Tabs content -->
                <div class="tab-content notes-tab" id="ex1-content">
                  <div
                    class="tab-pane fade show active"
                    id="ex1-tabs-1"
                    role="tabpanel"
                    aria-labelledby="ex1-tab-1"
                  >
                    <div class="docs-detail-box">
                      <div class="row mb-2 hidden">
                        <div class="col-12 pl-4 pb-2 d-flex gap-4">
                          <span class="label">Title</span>
                          <div class="docs-detail-title">Title</div>
                        </div>
                      </div>
                      <div class="row mb-2 hidden">
                        <div class="col-12 pl-4 pb-2 d-flex gap-4">
                          <span class="label">Date</span>
                          <div class="docs-detail-date"></div>
                        </div>
                      </div>
                      <div
                        class="alert-backdrop fade hidden"
                        id="alert_doc_success"
                      >
                        <div
                          class="alert alert-success alert-dismissible mb-4"
                          role="alert"
                        >
                          <span>Success! The changes have been saved</span>
                          <button
                            type="button"
                            class="close"
                            aria-label="Close"
                            onclick="closeAlertAndRemoveBackdrop(this)"
                          >
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                      </div>
                      <div
                        class="alert-backdrop fade hidden"
                        id="alert_doc_approved"
                      >
                        <div
                          class="alert alert-success alert-dismissible mb-4"
                          role="alert"
                        >
                          <span>Success! Your notes have been approved</span>
                          <button
                            type="button"
                            class="close"
                            aria-label="Close"
                            onclick="closeAlertAndRemoveBackdrop(this)"
                          >
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                      </div>
                      <div
                        class="alert-backdrop fade hidden"
                        id="alert_doc_error"
                      >
                        <div
                          class="alert alert-danger alert-dismissible mb-4"
                          id=""
                          role="alert"
                        >
                          <span>Error! An error occurred</span>
                          <button
                            type="button"
                            class="close"
                            aria-label="Close"
                            onclick="closeAlertAndRemoveBackdrop(this)"
                          >
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12 pl-4 pb-2 label">Content</div>
                        <div class="col-12 pr-25">
                          <div
                            class="form-control note-result-content note-shadow-box"
                            id="myTextarea"
                            contenteditable="true"
                          ></div>
                          <!-- <textarea
                          class="form-control docs-detail-presentation note-shadow-box"
                          rows="8"
                          id="note_export"
                          oninput="textareaAutoResize(this, true); setIsDocEdited()"
                        ></textarea> -->
                        </div>
                      </div>
                      <!-- <div class="row">
                                        <div class="col-12 pl-4 pb-2 pt-4 docs-detail-header-label-row">
                                            <span class="label" style="flex-grow: 1;">Issue</span>
                                        </div>
                                        <div class="col-12 docs-detail-header">
                                            <textarea class="form-control docs-detail-issue note-shadow-box" rows="8" oninput="textareaAutoResize(this)" onchange="setIsDocEdited()" ></textarea>
                                        </div>
                                    </div> -->
                      <div class="d-flex gap-4 justify-center mt-4">
                        <button
                          class="btn btn-danger btn-docs"
                          onclick="goBackToDocList()"
                        >
                          Back
                        </button>
                        <button
                          class="btn btn-info btn-docs disabled"
                          onclick="saveDoc()"
                          id="btn_save"
                          data-doc-id=""
                        >
                          Save
                        </button>
                        <button
                          class="btn btn-success btn-docs btn-dark"
                          onclick="confirmApprove()"
                          id="btn_approve"
                          data-doc-id=""
                        >
                          Approve
                        </button>
                        <div class="dropdown">
                          <button
                            class="btn btn-primary btn-reports dropdown-toggle"
                            type="button"
                            data-toggle="dropdown"
                          >
                            Export <span class="caret"></span>
                          </button>
                          <ul class="dropdown-menu">
                            <li onclick="exportHTML('doc')">DOC</li>
                            <li onclick="exportHTML('pdf')">PDF</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="tab-pane fade"
                    id="ex1-tabs-2"
                    role="tabpanel"
                    aria-labelledby="ex1-tab-2"
                  >
                    <div id="notesData" class="tab-note-second">
                      <div class="row mt-4">
                        <div class="col-12 pl-4 pb-2 label">Risks</div>
                        <div class="col-12">
                          <div
                            class="docs-detail-flag session-shadow-box"
                          ></div>
                        </div>
                      </div>
                      <div class="row mt-4">
                        <div class="col-12 pl-4 pb-2 label">Presentation</div>
                        <div class="col-12">
                          <div
                            class="docs-detail-present session-shadow-box"
                          ></div>
                        </div>
                      </div>
                      <div class="row mt-4">
                        <div class="col-12 pl-4 pb-2 label">Transcript</div>
                        <div class="col-12 pr-25">
                          <div
                            class="form-control note-result-transcript note-shadow-box"
                          ></div>
                          <!-- <textarea
                          class="form-control docs-detail-presentation note-shadow-box"
                          rows="8"
                          id="note_export"
                          oninput="textareaAutoResize(this, true); setIsDocEdited()"
                        ></textarea> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div type="button" id="guide" class="btn btn-info">
            <i class="fa fa-fw fa-info"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="confirmModal" role="dialog">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Confirm</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <div class="modal-body">
            <p class="mb-0">Are you sure to discard changes?</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger btn-confirm mr-4"
              data-dismiss="modal"
              onclick="resetDocState()"
            >
              Discard
            </button>
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="confirmApproveModal" role="dialog">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Confirm</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <div class="modal-body">
            <p class="mb-0">Are you sure you have reviewed this?</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger btn-confirm mr-4"
              data-dismiss="modal"
              onclick="approveDoc()"
            >
              Confirm
            </button>
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/jquery.validate.min.js"></script>
    <script src="./js/global.js"></script>
    <script src="./js/notes.js"></script>
  </body>
</html>
