<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <link rel="icon" href="favicon.ico" />
    <title>Australian Early Education Toolbox | Toddles</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      rel="stylesheet"
    />

    <link href="./css/bootstrap.min.css" rel="stylesheet" />
    <link href="./css/style.css" rel="stylesheet" />
    <script src="https://www.paypal.com/sdk/js?client-id=AbjL3hY4eZVn6xZrPx2V-dsS2T3_zC--xshT8_pSuBNncTNnRspL402tgYKtkjkVtgwZR-f-hs5xzPOF&currency=AUD"></script>
  </head>
  <body>
    <div class="page-content-wrapper">
      <div class="div-background mobile hidden"></div>
      <nav class="nav-desktop desktop">
        <div class="div-fixed">
          <a class="py-2 left-menu" href="/">
            <img src="./images/logo.png" class="log-img" />
          </a>
          <ul class="mt-80">
            <li class="nav-mb-2">
              <a class="py-2 d-md-inline-block" href="./dashboard.html">
                <i class="fa fa-fw fa-user-group mr-2"></i> Dashboard
              </a>
            </li>
            <li>
              <a class="py-2 d-md-inline-block">
                <i class="fa fa-fw fa-eye mr-2"></i> Observations
              </a>
            </li>
            <li class="ml-3">
              <a class="py-2 d-md-inline-block" href="./write.html">
                <i class="fa fa-fw fa-book mr-2"></i> Write
              </a>
            </li>
            <li class="ml-3">
              <a class="py-2 d-md-inline-block" href="./review.html">
                <i class="fa fa-fw fa-book mr-2"></i> Review
              </a>
            </li>
            <li>
              <a class="py-2 d-md-inline-block" href="./feedback.html">
                <i class="fa fa-fw fa-comment mr-2"></i> Feedback
              </a>
            </li>
          </ul>
          <div class="user-menu">
            <a
              class="py-2 d-md-inline-block active"
              href="./profile.html"
              id="view_account_btn"
            >
              <i class="fa fa-solid fa-search mr-2 mr-2"></i> Account
            </a>
            <a class="py-2 d-inline-block" href="#" onclick="logout()">
              <i class="fa fa-fw fa-right-from-bracket mr-2"></i> Log out
            </a>
          </div>
        </div>
      </nav>

      <div class="page-main-section">
        <nav class="site-header sticky-top ease-out">
          <div class="left-menu-wrapper">
            <i class="fa fa-fw fa-user mr-2"></i>Profile
          </div>
          <div class="right-menu-wrapper">
            <div class="nav-dropdown mobile">
              <button class="btn btn-primary" type="button" id="btn_mobile_nav">
                <i class="fa fa-fw fa-list"></i>
              </button>
            </div>
          </div>
        </nav>
        <div class="page-wrapper">
          <div class="page-container-wrapper">
            <div class="page-title">
              <div class="page-heading">
                <h1>Settings</h1>
                <p>You can update your details and refill credits here</p>
              </div>
            </div>
            <div class="mt-4 form-wrapper">
              <div class="alert-backdrop fade hidden" id="alert_server_error">
                <div
                  class="alert alert-danger alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_server_error">Error! An error occurred</span>
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
              <div class="alert-backdrop fade hidden" id="alert_mfa_error">
                <div
                  class="alert alert-danger alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_server_error">Incorrect, please try again</span>
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>

              <div class="options-div">
                <div class="options-container gap-2" id="options-box"></div>
              </div>
              <div class="check-boxes-div">
                <div
                  class="options-container-check gap-2"
                  id="check-boxes"
                ></div>
              </div>
              <div class="updated-notification-region">
                <div class="updated-section">
                  <span id="settings-title-header">Updated!!!</span>
                  <i class="check-font fa-solid fa-square-check"></i>
                </div>
              </div>
              <div class="alert-backdrop fade hidden" id="alert_success">
                <div
                  class="alert alert-success alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_success">Your profile has been updated</span>
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
              <div class="alert-backdrop fade hidden" id="alert_img_success">
                <div
                  class="alert alert-success alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="file_msg_success"
                    >Your file has been successed</span
                  >
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
              <div class="alert-backdrop fade hidden" id="alert_success_mfa">
                <div
                  class="alert alert-success alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_success">MFA successfully configured</span>
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="closeAlertAndRemoveBackdrop(this)"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
              <div class="alert-backdrop fade hidden" id="alert_success_refill">
                <div
                  class="alert alert-success alert-dismissible mb-4"
                  role="alert"
                >
                  <span id="msg_success"
                    >Successfully recharged credits! Please give it a few
                    minutes for it to reflect in your account</span
                  >
                  <button
                    type="button"
                    class="close"
                    aria-label="Close"
                    onclick="hideConfirmation()"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
              <div class="profile-form-box">
                <form id="profile-form">
                  <div class="form-group">
                    <lable>Email</lable>
                    <input
                      type="email"
                      class="form-control pro-font"
                      id="email"
                      name="email"
                      required
                      disabled
                    />
                  </div>

                  <div class="form-group">
                    <lable class="label">Recharge credits</lable>
                    <select
                      class="form-control"
                      name="type"
                      id="priceSelected"
                      onchange="handlePrice()"
                      required
                    >
                      <!-- <option value="1">Demo (5 credits) - $1</option> -->
                      <option value="5">Mini (50 credits) - $5</option>
                      <option value="15" selected="selected">
                        Standard (175 credits) - $15
                      </option>
                      <option value="35">Mega (400 credits) - $30</option>
                    </select>
                  </div>

                  <div id="paypal-button-container"></div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal -->
      <div
        class="modal fade"
        id="cropAvatarmodal"
        data-backdrop="static"
        data-keyboard="false"
        tabindex="-1"
        role="dialog"
        aria-labelledby="modalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalLabel">Crop the image</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="img-container">
                <img
                  id="uploadedAvatar"
                  src="https://avatars0.githubusercontent.com/u/3456749"
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Cancel
              </button>
              <button type="button" class="btn btn-primary" id="crop">
                Crop
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="mfa_modal" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Set Up Multi-Factor Authentication</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div
                style="
                  width: 100%;
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                  align-items: center;
                "
              >
                <label
                  >Scan the QR code in your authenticator app (eg. Google
                  Authenticator)</label
                >
                <img class="rounded" id="img_input_qrcode" width="50%" src="" />
              </div>
              <label>Verify the code from the app</label>
              <input
                type="text"
                name="mfa"
                id="mfa_num"
                maxlength="6"
                placeholder="XXXXXX"
              />
              <div
                id="mfa_warning"
                style="margin-top: 5px; display: none"
                class="alert alert-danger"
              >
                Code verification failed. Please try again.
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/jquery.validate.min.js"></script>
    <script src="./js/cropper.js"></script>
    <script src="./js/global.js"></script>
    <script src="./js/profile.js"></script>
  </body>
</html>
